{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kevth/Desktop/Projects/pub-league-platform/apps/web/app/orgs/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\n\ntype Org = { id: string; name: string; role?: string };\n\nexport default function OrgsPage() {\n  const apiBase = useMemo(\n    () => process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:4000/api/v1',\n    [],\n  );\n  const [orgs, setOrgs] = useState<Org[]>([]);\n  const [name, setName] = useState('');\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    void loadOrgs();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function loadOrgs() {\n    setError(null);\n    setLoading(true);\n    try {\n      const token = localStorage.getItem('accessToken');\n      if (!token) {\n        window.location.href = '/login';\n        return;\n      }\n      const res = await fetch(`${apiBase}/orgs`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data?.error?.message ?? 'Failed to load organisations');\n      setOrgs(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to load organisations');\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function createOrg(e: React.FormEvent) {\n    e.preventDefault();\n    setError(null);\n    try {\n      const token = localStorage.getItem('accessToken');\n      if (!token) {\n        window.location.href = '/login';\n        return;\n      }\n      const res = await fetch(`${apiBase}/orgs`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\n        body: JSON.stringify({ name }),\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data?.error?.message ?? 'Failed to create organisation');\n      setName('');\n      setOrgs(current => [data, ...current]);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to create organisation');\n    }\n  }\n\n  function signOut() {\n    localStorage.removeItem('accessToken');\n    window.location.href = '/login';\n  }\n\n  return (\n    <main>\n      <h1>Organisations</h1>\n      <p>Pick an organisation to open fixtures and calendar feeds.</p>\n\n      <form onSubmit={createOrg} style={{ display: 'flex', gap: 8, marginBottom: 16 }}>\n        <input\n          placeholder=\"New organisation name\"\n          value={name}\n          onChange={e => setName(e.target.value)}\n          required\n          minLength={2}\n        />\n        <button type=\"submit\">Create</button>\n        <button type=\"button\" onClick={loadOrgs} disabled={loading}>\n          Refresh\n        </button>\n        <button type=\"button\" onClick={signOut}>\n          Sign out\n        </button>\n      </form>\n\n      {error ? <p style={{ color: 'crimson' }}>{error}</p> : null}\n      {loading ? <p>Loading...</p> : null}\n\n      <ul>\n        {orgs.map(org => (\n          <li key={org.id} style={{ marginBottom: 8 }}>\n            <strong>{org.name}</strong> {org.role ? <span>({org.role})</span> : null}{' '}\n            <a href={`/schedule?orgId=${org.id}`}>Schedule</a> |{' '}\n            <a href={`/match-night?orgId=${org.id}`}>Match Night</a> |{' '}\n            <a href={`/disputes?orgId=${org.id}`}>Disputes</a> |{' '}\n            <a href={`/notifications-admin?orgId=${org.id}`}>Notifications</a>\n          </li>\n        ))}\n      </ul>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kevth/Desktop/Projects/pub-league-platform/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kevth/Desktop/Projects/pub-league-platform/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kevth/Desktop/Projects/pub-league-platform/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}